#+OPTIONS: _:nil ^:nil

* Best models
| CORPUS | L  | UTT ENCODER | DAR | NAME                    | E |
|--------+----+-------------+-----+-------------------------+---|
| SWDA   | L  | ?           | ?   | SWDA-L_bert_2019-11-14  | 5 |
| SWDA   | NL | ?           | ?   | SWDA-NL_bert_2019-11-14 | 4 |

* DA by laughter impact 


** DA names
#+NAME: das
| DA              | DA-name                                   |
|-----------------+-------------------------------------------|
| b               | Acknowledge (Backchannel)                 |
| sv              | Statement-opinion                         |
| +               | Agree/Accept                              |
| %               | Abandoned or Turn-Exit or Uninterpretable |
| aa              | Agree/Accept                              |
| ba              | Appreciation                              |
| qy              | Yes-No-Question                           |
| x               | Non-verbal                                |
| ny              | Yes answers                               |
| fc              | Conventional-closing                      |
| qw              | Wh-Question                               |
| nn              | No answers                                |
| bk              | Response Acknowledgement                  |
| h               | Hedge                                     |
| qy^d            | Declarative Yes-No-Question               |
| bh              | Backchannel in question form              |
| ^q              | Quotation                                 |
| bf              | Summarize/reformulate                     |
| fo_o_fw_"_by_bc | Other                                     |
| na              | Affirmative non-yes answers               |
| ad              | Action-directive                          |
| ^2              | Collaborative Completion                  |
| b^m             | Repeat-phrase                             |
| qo              | Open-Question                             |
| qh              | Rhetorical-Questions                      |
| ^h              | Hold before answer/agreement              |
| ar              | Reject                                    |
| ng              | Negative non-no answers                   |
| br              | Signal-non-understanding                  |
| no              | Other answers                             |
| fp              | Conventional-opening                      |
| qrr             | Or-Clause                                 |
| arp_nd          | Dispreferred answers                      |
| t3              | 3rd-party-talk                            |
| oo_co_cc        | Offers, Options Commits                   |
| aap_am          | Maybe/Accept-part                         |
| bd              | Downplayer                                |
| t1              | Self-talk                                 |
| ^g              | Tag-Question                              |
| qw^d            | Declarative Wh-Question                   |
| fa              | Apology                                   |
| ft              | Thanking                                  |

#+BEGIN_SRC python :var tbl=das :results output
  import json
  with open('SWDA_dialogue-acts.json', 'w') as f:
      json.dump(dict(tbl), f)
#+END_SRC

#+RESULTS:

** SWDA

*** all
#+NAME: swda
| tag             | name                                      | group                            | total |    total_ | lassoc |   lassoc_ |   |     |    l |        l_ |   |     |      accL |     accNL |
|                 |                                           | <7>                              |       |           |        |           |   |     |      |           |   |     |           |           |
|-----------------+-------------------------------------------+----------------------------------+-------+-----------+--------+-----------+---+-----+------+-----------+---+-----+-----------+-----------|
| sd              | Statement-non-opinion                     | Forward-Communicative-Function   | 75143 | 0.3390685 |   9032 | 0.1201975 | 0 | 0.0 | 3442 |  0.045806 | 0 | 0.0 | 0.8938315 | 0.8404784 |
| b               | Acknowledge (Backchannel)                 | Backwards-Communicative-Function | 38298 | 0.1728124 |   3787 | 0.0988824 | 0 | 0.0 |  755 | 0.0197138 | 0 | 0.0 | 0.9289026 | 0.9388202 |
| sv              | Statement-opinion                         | Forward-Communicative-Function   | 26426 | 0.1192423 |   2960 | 0.1120109 | 0 | 0.0 | 1249 | 0.0472641 | 0 | 0.0 | 0.5619559 |  0.657344 |
| +               | Segment (multi-utterance)                 | Other                            | 17824 | 0.0804274 |   2195 | 0.1231486 | 0 | 0.0 |  754 | 0.0423025 | 0 | 0.0 | 0.7611189 | 0.8344056 |
| %               | Abandoned or Turn-Exit or Uninterpretable | Communicative-Status             | 15550 | 0.0701664 |   1506 | 0.0968489 | 0 | 0.0 |  364 | 0.0234084 | 0 | 0.0 | 0.7731362 | 0.8316195 |
| aa              | Agree/Accept                              | Backwards-Communicative-Function | 11133 | 0.0502355 |   1596 | 0.1433576 | 0 | 0.0 |  426 | 0.0382646 | 0 | 0.0 | 0.4432342 | 0.4139087 |
| ba              | Appreciation                              | Backwards-Communicative-Function |  4764 | 0.0214966 |    868 | 0.1821998 | 0 | 0.0 |  329 | 0.0690596 | 0 | 0.0 | 0.6634304 | 0.7216828 |
| qy              | Yes-No-Question                           | Forward-Communicative-Function   |  4726 | 0.0213252 |    539 | 0.1140499 | 0 | 0.0 |  167 | 0.0353364 | 0 | 0.0 | 0.8310502 | 0.8401826 |
| x               | Non-verbal                                | Communicative-Status             |  3630 | 0.0163797 |   2466 | 0.6793388 | 0 | 0.0 | 2381 | 0.6559229 | 0 | 0.0 | 0.9938556 | 0.9953917 |
| ny              | Yes answers                               | Backwards-Communicative-Function |  3034 | 0.0136903 |    269 | 0.0886618 | 0 | 0.0 |   65 | 0.0214239 | 0 | 0.0 | 0.7107143 | 0.6964286 |
| fc              | Conventional-closing                      | Forward-Communicative-Function   |  2582 | 0.0116508 |    247 | 0.0956623 | 0 | 0.0 |   87 | 0.0336948 | 0 | 0.0 | 0.7051724 | 0.6982759 |
| qw              | Wh-Question                               | Forward-Communicative-Function   |  1979 | 0.0089299 |    241 | 0.1217787 | 0 | 0.0 |   62 |  0.031329 | 0 | 0.0 | 0.8421053 | 0.9362881 |
| nn              | No answers                                | Backwards-Communicative-Function |  1377 | 0.0062135 |    137 | 0.0994916 | 0 | 0.0 |   36 | 0.0261438 | 0 | 0.0 | 0.8901961 | 0.8666667 |
| bk              | Response Acknowledgement                  | Backwards-Communicative-Function |  1306 | 0.0058931 |    145 |  0.111026 | 0 | 0.0 |   41 | 0.0313936 | 0 | 0.0 | 0.4256198 | 0.5041322 |
| h               | Hedge                                     | Other                            |  1226 | 0.0055321 |    157 | 0.1280587 | 0 | 0.0 |   50 |  0.040783 | 0 | 0.0 | 0.7478261 | 0.7434783 |
| qy^d            | Declarative Yes-No-Question               | Forward-Communicative-Function   |  1218 |  0.005496 |    146 | 0.1198686 | 0 | 0.0 |   64 | 0.0525452 | 0 | 0.0 | 0.0979592 | 0.0897959 |
| bh              | Backchannel in question form              | Backwards-Communicative-Function |  1053 | 0.0047515 |    130 | 0.1234568 | 0 | 0.0 |   29 | 0.0275404 | 0 | 0.0 | 0.8552036 |  0.678733 |
| ^q              | Quotation                                 | Other                            |   983 | 0.0044356 |    195 | 0.1983723 | 0 | 0.0 |   78 | 0.0793489 | 0 | 0.0 | 0.1407767 |       0.0 |
| bf              | Summarize/reformulate                     | Backwards-Communicative-Function |   952 | 0.0042957 |    139 | 0.1460084 | 0 | 0.0 |   76 | 0.0798319 | 0 | 0.0 | 0.0174419 |       0.0 |
| fo_o_fw_"_by_bc | Other                                     | Backwards-Communicative-Function |   883 | 0.0039844 |    102 | 0.1155153 | 0 | 0.0 |   39 | 0.0441676 | 0 | 0.0 | 0.5384615 | 0.5502959 |
| na              | Affirmative non-yes answers               | Backwards-Communicative-Function |   847 | 0.0038219 |    125 | 0.1475797 | 0 | 0.0 |   49 | 0.0578512 | 0 | 0.0 | 0.2777778 | 0.2469136 |
| ad              | Action-directive                          | Forward-Communicative-Function   |   746 | 0.0033662 |    150 | 0.2010724 | 0 | 0.0 |   70 | 0.0938338 | 0 | 0.0 | 0.3492063 | 0.2698413 |
| ^2              | Collaborative Completion                  | Backwards-Communicative-Function |   723 | 0.0032624 |     95 |  0.131397 | 0 | 0.0 |   44 | 0.0608575 | 0 | 0.0 | 0.1764706 | 0.0514706 |
| b^m             | Repeat-phrase                             | Backwards-Communicative-Function |   688 | 0.0031045 |     77 | 0.1119186 | 0 | 0.0 |   30 | 0.0436047 | 0 | 0.0 | 0.0503145 | 0.1194969 |
| qo              | Open-Question                             | Forward-Communicative-Function   |   656 | 0.0029601 |     92 | 0.1402439 | 0 | 0.0 |   30 | 0.0457317 | 0 | 0.0 | 0.7185185 | 0.6222222 |
| qh              | Rhetorical-Questions                      | Forward-Communicative-Function   |   575 | 0.0025946 |     97 | 0.1686957 | 0 | 0.0 |   52 | 0.0904348 | 0 | 0.0 |  0.259542 | 0.0763359 |
| ^h              | Hold before answer/agreement              | Backwards-Communicative-Function |   556 | 0.0025088 |     70 | 0.1258993 | 0 | 0.0 |   19 | 0.0341727 | 0 | 0.0 | 0.3194444 | 0.4583333 |
| ar              | Reject                                    | Backwards-Communicative-Function |   345 | 0.0015567 |     51 | 0.1478261 | 0 | 0.0 |   23 | 0.0666667 | 0 | 0.0 | 0.0441176 |       0.0 |
| ng              | Negative non-no answers                   | Backwards-Communicative-Function |   302 | 0.0013627 |     34 | 0.1125828 | 0 | 0.0 |   16 | 0.0529801 | 0 | 0.0 | 0.1515151 | 0.1515151 |
| br              | Signal-non-understanding                  | Backwards-Communicative-Function |   298 | 0.0013447 |     30 | 0.1006711 | 0 | 0.0 |    4 | 0.0134228 | 0 | 0.0 | 0.4772727 | 0.0227273 |
| no              | Other answers                             | Backwards-Communicative-Function |   285 |  0.001286 |     34 | 0.1192982 | 0 | 0.0 |   14 | 0.0491228 | 0 | 0.0 | 0.3103448 |       0.0 |
| fp              | Conventional-opening                      | Forward-Communicative-Function   |   225 | 0.0010153 |     22 | 0.0977778 | 0 | 0.0 |   10 | 0.0444444 | 0 | 0.0 | 0.7681159 | 0.4927536 |
| qrr             | Or-Clause                                 | Forward-Communicative-Function   |   209 | 0.0009431 |      8 | 0.0382775 | 0 | 0.0 |    1 | 0.0047847 | 0 | 0.0 | 0.6046511 | 0.4651163 |
| arp_nd          | Dispreferred answers                      | Backwards-Communicative-Function |   207 |  0.000934 |     37 |  0.178744 | 0 | 0.0 |   19 | 0.0917874 | 0 | 0.0 |       0.0 |       0.0 |
| t3              | 3rd-party-talk                            | Communicative-Status             |   117 | 0.0005279 |     15 | 0.1282051 | 0 | 0.0 |    1 |  0.008547 | 0 | 0.0 |       0.0 |       0.0 |
| oo_co_cc        | Offers, Options Commits                   | Forward-Communicative-Function   |   110 | 0.0004964 |     28 | 0.2545455 | 0 | 0.0 |   10 | 0.0909091 | 0 | 0.0 |       0.0 |       0.0 |
| aap_am          | Maybe/Accept-part                         | Backwards-Communicative-Function |   105 | 0.0004738 |     19 | 0.1809524 | 0 | 0.0 |    6 | 0.0571429 | 0 | 0.0 |       0.0 |       0.0 |
| bd              | Downplayer                                | Backwards-Communicative-Function |   103 | 0.0004648 |     39 | 0.3786408 | 0 | 0.0 |   17 | 0.1650485 | 0 | 0.0 |       0.0 |       0.0 |
| t1              | Self-talk                                 | Communicative-Status             |   103 | 0.0004648 |     16 | 0.1553398 | 0 | 0.0 |    3 | 0.0291262 | 0 | 0.0 |       0.0 |       0.0 |
| ^g              | Tag-Question                              | Forward-Communicative-Function   |    92 | 0.0004151 |     15 | 0.1630435 | 0 | 0.0 |    6 | 0.0652174 | 0 | 0.0 |    0.0625 |       0.0 |
| qw^d            | Declarative Wh-Question                   | Forward-Communicative-Function   |    80 |  0.000361 |     14 |     0.175 | 0 | 0.0 |    4 |      0.05 | 0 | 0.0 |       0.0 |       0.0 |
| fa              | Apology                                   | Forward-Communicative-Function   |    79 | 0.0003565 |     24 | 0.3037975 | 0 | 0.0 |   10 | 0.1265823 | 0 | 0.0 | 0.7499999 |       0.0 |
| ft              | Thanking                                  | Forward-Communicative-Function   |    78 |  0.000352 |     14 | 0.1794872 | 0 | 0.0 |    9 | 0.1153846 | 0 | 0.0 |  0.368421 |       0.0 |

#+begin_src gnuplot :var data=swda :file box-swda.svg
  reset
  set style fill solid 0.5 border -1
  set style boxplot outliers pointtype 7
  set style data boxplot
  set yrange [0:0.7]
  set border 2
  set tics font "Times, 20"
  set xtics nomirror
  set ytics nomirror
  set xtics ("" 1, "" 2) scale 0 notitle
  plot data using (1.0):7 notitle , '' using (2):11 notitle 
#+end_src

#+RESULTS:
[[file:box-swda.svg]]


*** groups
#+BEGIN: aggregate :table "swda" :cols "group sum(total)"
| group                            | sum(total) |   |   |       |
|----------------------------------+------------+---+---+-------|
| Forward-Communicative-Function   |     114924 |   |   | 51.86 |
| Backwards-Communicative-Function |      67259 |   |   | 30.35 |
| Other                            |      20033 |   |   |  9.04 |
| Communicative-Status             |      19400 |   |   |  8.75 |
#+TBLFM: $5=$2*100/vsum(@2$2..@5$2);f2
#+END:


#+BEGIN: aggregate :table "swda" :cols "group (sum(lassoc)*100/sum(total));f2 (sum(l)*100/sum(total));f2 (vmean(accL)-vmean(accNL))*100;f2"
| group                            | (sum(lassoc)*100/sum(total));f2 | (sum(l)*100/sum(total));f2 | (vmean(accL)-vmean(accNL))*100;f2 |
|----------------------------------+---------------------------------+----------------------------+-----------------------------------|
| Forward-Communicative-Function   |                           11.86 |                       4.59 |                             11.40 |
| Backwards-Communicative-Function |                           11.57 |                       3.03 |                              4.30 |
| Other                            |                           12.71 |                       4.40 |                              2.39 |
| Communicative-Status             |                           20.63 |                      14.17 |                             -1.50 |
#+END:

#+TBLFM: $5=$2/vsum(@2$2..@5$2)::$6=$3/$2::$7=$4/$2


** AMI-DA
#+name: ami-da
|           | name                         | group                            | total |    total_ | lassoc |   lassoc_ |   |     |    l |        l_ |   |     |           |           |
|-----------+------------------------------+----------------------------------+-------+-----------+--------+-----------+---+-----+------+-----------+---+-----+-----------+-----------|
| ami_da_4  | Inform                       | Forward-Communicative-Function   | 33484 | 0.2839673 |   4651 | 0.1389022 | 0 | 0.0 | 1555 | 0.0464401 | 0 | 0.0 | 0.7612797 | 0.8129614 |
| ami_da_9  | Assess                       | Backwards-Communicative-Function | 21391 | 0.1814103 |   4133 | 0.1932121 | 0 | 0.0 | 1551 | 0.0725071 | 0 | 0.0 | 0.5514119 | 0.6559603 |
| ami_da_3  | Fragment                     | Other                            | 16796 | 0.1424416 |   6643 | 0.3955108 | 0 | 0.0 | 5273 | 0.3139438 | 0 | 0.0 | 0.8406608 | 0.8220091 |
| ami_da_1  | Backchannel                  | Backwards-Communicative-Function | 12573 | 0.1066277 |   1674 | 0.1331424 | 0 | 0.0 |  480 |  0.038177 | 0 | 0.0 | 0.8497317 | 0.6597496 |
| ami_da_6  | Suggest                      | Forward-Communicative-Function   |  9391 | 0.0796421 |   1356 | 0.1443936 | 0 | 0.0 |  490 | 0.0521776 | 0 | 0.0 | 0.5483721 | 0.4046512 |
| ami_da_2  | Stall                        | Other                            |  8459 | 0.0717381 |   1258 | 0.1487173 | 0 | 0.0 |  315 | 0.0372384 | 0 | 0.0 | 0.5905593 | 0.5797845 |
| ami_da_5  | Elicit-Inform                | Forward-Communicative-Function   |  4240 | 0.0359581 |    652 | 0.1537736 | 0 | 0.0 |  225 |  0.053066 | 0 | 0.0 | 0.5608592 |  0.597852 |
| ami_da_12 | Comment-About-Understanding  | Backwards-Communicative-Function |  2367 | 0.0200738 |    397 | 0.1677229 | 0 | 0.0 |  141 | 0.0595691 | 0 | 0.0 |     0.125 | 0.1328125 |
| ami_da_11 | Elicit-Assessment            | Backwards-Communicative-Function |  2265 | 0.0192088 |    348 | 0.1536424 | 0 | 0.0 |  113 | 0.0498896 | 0 | 0.0 | 0.4509395 | 0.4446764 |
| ami_da_14 | Be-Positive                  | Forward-Communicative-Function   |  2210 | 0.0187423 |   1180 | 0.5339367 | 0 | 0.0 |  669 | 0.3027149 | 0 | 0.0 | 0.6550117 | 0.5804196 |
| ami_da_16 | Other                        | Other                            |  2204 | 0.0186914 |    688 | 0.3121597 | 0 | 0.0 |  241 | 0.1093466 | 0 | 0.0 | 0.2765531 | 0.3527054 |
| ami_da_7  | Offer                        | Forward-Communicative-Function   |  1530 | 0.0129754 |    286 | 0.1869281 | 0 | 0.0 |   79 |  0.051634 | 0 | 0.0 | 0.4705882 | 0.5947712 |
| ami_da_8  | Elicit-Offer-Or-Suggestion   | Forward-Communicative-Function   |   686 | 0.0058178 |     98 | 0.1428571 | 0 | 0.0 |   35 | 0.0510204 | 0 | 0.0 | 0.4295302 | 0.2885906 |
| ami_da_13 | Elicit-Comment-Understanding | Backwards-Communicative-Function |   193 | 0.0016368 |     14 | 0.0725389 | 0 | 0.0 |    3 |  0.015544 | 0 | 0.0 |   0.15625 |    0.0625 |
| ami_da_15 | Be-Negative                  | Forward-Communicative-Function   |    98 | 0.0008311 |     51 | 0.5204082 | 0 | 0.0 |   20 | 0.2040816 | 0 | 0.0 |       0.0 |       0.0 |
| None      | None                         | Other                            |    28 | 0.0002375 |      7 |      0.25 | 0 | 0.0 |    3 | 0.1071429 | 0 | 0.0 |       0.0 |       0.0 |
#+begin_src gnuplot :var data=ami-da :file box-ami.svg
  reset
  set style fill solid 0.5 border -1
  set style boxplot outliers pointtype 7
  set yrange [0:0.7]
  set style data boxplot 
  set border 2
  set tics font "Times, 20"
  set xtics nomirror
  set ytics nomirror
  set xtics ("" 1, "" 2) scale 0.0
  plot data using (1.0):7 notitle , '' using (2):11 notitle 
#+end_src

#+RESULTS:
[[file:box-ami.svg]]

*** groups
#+BEGIN: aggregate :table "ami-da" :cols "group sum(total)"
| group                            | sum(total) |   |   |       |
|----------------------------------+------------+---+---+-------|
| Forward-Communicative-Function   |      51639 |   |   | 43.79 |
| Backwards-Communicative-Function |      38789 |   |   | 32.90 |
| Other                            |      27487 |   |   | 23.31 |
#+TBLFM: $5=$2*100/vsum(@2$2..@4$2);f2
#+END:

** filter
#+NAME: my-filter
#+BEGIN_SRC elisp :var tbl=swda :colnames no :hline no
  (cl-loop for row in tbl
           if (not (equal (nth 0 row) "x"))
               collect row into newtbl
               finally return newtbl)
#+END_SRC

#+RESULTS: my-filter
| sd              | Statement-non-opinion                     | 75143 | 0.3390685 | 9032 | 0.1201975 | 0 | 0.0 | 3442 |  0.045806 | 0 | 0.0 | 0.8938315 | 0.8404784 |
| b               | Acknowledge (Backchannel)                 | 38298 | 0.1728124 | 3787 | 0.0988824 | 0 | 0.0 |  755 | 0.0197138 | 0 | 0.0 | 0.9289026 | 0.9388202 |
| sv              | Statement-opinion                         | 26426 | 0.1192423 | 2960 | 0.1120109 | 0 | 0.0 | 1249 | 0.0472641 | 0 | 0.0 | 0.5619559 |  0.657344 |
| +               | Segment (multi-utterance)                 | 17824 | 0.0804274 | 2195 | 0.1231486 | 0 | 0.0 |  754 | 0.0423025 | 0 | 0.0 | 0.7611189 | 0.8344056 |
| %               | Abandoned or Turn-Exit or Uninterpretable | 15550 | 0.0701664 | 1506 | 0.0968489 | 0 | 0.0 |  364 | 0.0234084 | 0 | 0.0 | 0.7731362 | 0.8316195 |
| aa              | Agree/Accept                              | 11133 | 0.0502355 | 1596 | 0.1433576 | 0 | 0.0 |  426 | 0.0382646 | 0 | 0.0 | 0.4432342 | 0.4139087 |
| ba              | Appreciation                              |  4764 | 0.0214966 |  868 | 0.1821998 | 0 | 0.0 |  329 | 0.0690596 | 0 | 0.0 | 0.6634304 | 0.7216828 |
| qy              | Yes-No-Question                           |  4726 | 0.0213252 |  539 | 0.1140499 | 0 | 0.0 |  167 | 0.0353364 | 0 | 0.0 | 0.8310502 | 0.8401826 |
| ny              | Yes answers                               |  3034 | 0.0136903 |  269 | 0.0886618 | 0 | 0.0 |   65 | 0.0214239 | 0 | 0.0 | 0.7107143 | 0.6964286 |
| fc              | Conventional-closing                      |  2582 | 0.0116508 |  247 | 0.0956623 | 0 | 0.0 |   87 | 0.0336948 | 0 | 0.0 | 0.7051724 | 0.6982759 |
| qw              | Wh-Question                               |  1979 | 0.0089299 |  241 | 0.1217787 | 0 | 0.0 |   62 |  0.031329 | 0 | 0.0 | 0.8421053 | 0.9362881 |
| nn              | No answers                                |  1377 | 0.0062135 |  137 | 0.0994916 | 0 | 0.0 |   36 | 0.0261438 | 0 | 0.0 | 0.8901961 | 0.8666667 |
| bk              | Response Acknowledgement                  |  1306 | 0.0058931 |  145 |  0.111026 | 0 | 0.0 |   41 | 0.0313936 | 0 | 0.0 | 0.4256198 | 0.5041322 |
| h               | Hedge                                     |  1226 | 0.0055321 |  157 | 0.1280587 | 0 | 0.0 |   50 |  0.040783 | 0 | 0.0 | 0.7478261 | 0.7434783 |
| qy^d            | Declarative Yes-No-Question               |  1218 |  0.005496 |  146 | 0.1198686 | 0 | 0.0 |   64 | 0.0525452 | 0 | 0.0 | 0.0979592 | 0.0897959 |
| bh              | Backchannel in question form              |  1053 | 0.0047515 |  130 | 0.1234568 | 0 | 0.0 |   29 | 0.0275404 | 0 | 0.0 | 0.8552036 |  0.678733 |
| ^q              | Quotation                                 |   983 | 0.0044356 |  195 | 0.1983723 | 0 | 0.0 |   78 | 0.0793489 | 0 | 0.0 | 0.1407767 |       0.0 |
| bf              | Summarize/reformulate                     |   952 | 0.0042957 |  139 | 0.1460084 | 0 | 0.0 |   76 | 0.0798319 | 0 | 0.0 | 0.0174419 |       0.0 |
| fo_o_fw_"_by_bc | Other                                     |   883 | 0.0039844 |  102 | 0.1155153 | 0 | 0.0 |   39 | 0.0441676 | 0 | 0.0 | 0.5384615 | 0.5502959 |
| na              | Affirmative non-yes answers               |   847 | 0.0038219 |  125 | 0.1475797 | 0 | 0.0 |   49 | 0.0578512 | 0 | 0.0 | 0.2777778 | 0.2469136 |
| ad              | Action-directive                          |   746 | 0.0033662 |  150 | 0.2010724 | 0 | 0.0 |   70 | 0.0938338 | 0 | 0.0 | 0.3492063 | 0.2698413 |
| ^2              | Collaborative Completion                  |   723 | 0.0032624 |   95 |  0.131397 | 0 | 0.0 |   44 | 0.0608575 | 0 | 0.0 | 0.1764706 | 0.0514706 |
| b^m             | Repeat-phrase                             |   688 | 0.0031045 |   77 | 0.1119186 | 0 | 0.0 |   30 | 0.0436047 | 0 | 0.0 | 0.0503145 | 0.1194969 |
| qo              | Open-Question                             |   656 | 0.0029601 |   92 | 0.1402439 | 0 | 0.0 |   30 | 0.0457317 | 0 | 0.0 | 0.7185185 | 0.6222222 |
| qh              | Rhetorical-Questions                      |   575 | 0.0025946 |   97 | 0.1686957 | 0 | 0.0 |   52 | 0.0904348 | 0 | 0.0 |  0.259542 | 0.0763359 |
| ^h              | Hold before answer/agreement              |   556 | 0.0025088 |   70 | 0.1258993 | 0 | 0.0 |   19 | 0.0341727 | 0 | 0.0 | 0.3194444 | 0.4583333 |
| ar              | Reject                                    |   345 | 0.0015567 |   51 | 0.1478261 | 0 | 0.0 |   23 | 0.0666667 | 0 | 0.0 | 0.0441176 |       0.0 |
| ng              | Negative non-no answers                   |   302 | 0.0013627 |   34 | 0.1125828 | 0 | 0.0 |   16 | 0.0529801 | 0 | 0.0 | 0.1515152 | 0.1515152 |
| br              | Signal-non-understanding                  |   298 | 0.0013447 |   30 | 0.1006711 | 0 | 0.0 |    4 | 0.0134228 | 0 | 0.0 | 0.4772727 | 0.0227273 |
| no              | Other answers                             |   285 |  0.001286 |   34 | 0.1192982 | 0 | 0.0 |   14 | 0.0491228 | 0 | 0.0 | 0.3103448 |       0.0 |
| fp              | Conventional-opening                      |   225 | 0.0010153 |   22 | 0.0977778 | 0 | 0.0 |   10 | 0.0444444 | 0 | 0.0 | 0.7681159 | 0.4927536 |
| qrr             | Or-Clause                                 |   209 | 0.0009431 |    8 | 0.0382775 | 0 | 0.0 |    1 | 0.0047847 | 0 | 0.0 | 0.6046512 | 0.4651163 |
| arp_nd          | Dispreferred answers                      |   207 |  0.000934 |   37 |  0.178744 | 0 | 0.0 |   19 | 0.0917874 | 0 | 0.0 |       0.0 |       0.0 |
| t3              | 3rd-party-talk                            |   117 | 0.0005279 |   15 | 0.1282051 | 0 | 0.0 |    1 |  0.008547 | 0 | 0.0 |       0.0 |       0.0 |
| oo_co_cc        | Offers, Options Commits                   |   110 | 0.0004964 |   28 | 0.2545455 | 0 | 0.0 |   10 | 0.0909091 | 0 | 0.0 |       0.0 |       0.0 |
| aap_am          | Maybe/Accept-part                         |   105 | 0.0004738 |   19 | 0.1809524 | 0 | 0.0 |    6 | 0.0571429 | 0 | 0.0 |       0.0 |       0.0 |
| bd              | Downplayer                                |   103 | 0.0004648 |   39 | 0.3786408 | 0 | 0.0 |   17 | 0.1650485 | 0 | 0.0 |       0.0 |       0.0 |
| t1              | Self-talk                                 |   103 | 0.0004648 |   16 | 0.1553398 | 0 | 0.0 |    3 | 0.0291262 | 0 | 0.0 |       0.0 |       0.0 |
| ^g              | Tag-Question                              |    92 | 0.0004151 |   15 | 0.1630435 | 0 | 0.0 |    6 | 0.0652174 | 0 | 0.0 |    0.0625 |       0.0 |
| qw^d            | Declarative Wh-Question                   |    80 |  0.000361 |   14 |     0.175 | 0 | 0.0 |    4 |      0.05 | 0 | 0.0 |       0.0 |       0.0 |
| fa              | Apology                                   |    79 | 0.0003565 |   24 | 0.3037975 | 0 | 0.0 |   10 | 0.1265823 | 0 | 0.0 |      0.75 |       0.0 |
| ft              | Thanking                                  |    78 |  0.000352 |   14 | 0.1794872 | 0 | 0.0 |    9 | 0.1153846 | 0 | 0.0 | 0.3684211 |       0.0 |
|                 |                                           |       |           |      |           |   |     |      |           |   |     |           |           |
** graph
#+begin_src gnuplot :var data=swda :file histogram.svg
  reset

  set linetype 22 linewidth 1
  set palette model RGB defined ( 0 'black', 1 'blue' )
  set border 1
  unset colorbox
  set bars 5.0
  set ytics nomirror scale 0.5
  set term svg size 800,480 font "Times"
  set style data histogram
  set style histogram rowstacked
  set style fill solid 0.5 noborder
  set xtics rotate by -45 scale 0 noenhanced
  plot data using 4:xtic(2) notitle
#+end_src

#+RESULTS:
[[file:histogram.svg]]

#+begin_src gnuplot :var data=swda :file swda.svg
  reset

  set linetype 22 linewidth 1
  set palette model RGB defined ( 0 'black', 1 'blue' )
  set border 1
  set yrange [0:1]
  set ytics 0.5
  unset colorbox
  set bars 5.0
  set ytics nomirror scale 0.5
  set term svg size 1000,480 font "Times"
  set style data histogram
  set style histogram 
  set style fill solid 0.5 noborder
  set xtics rotate by -35 scale 0 noenhanced
  plot data using 7:xtic(2) title "adjacent utterances contain laughter", '' using 11 title "contains laughter", \
       data using 0:15:15:14:14:( $14 < $15 ? 0 : 1 ) with financebars notitle  palette lt 22
#+end_src

#+RESULTS:
[[file:swda.svg]]
#+begin_src gnuplot :var data=ami-da :file ami.svg
  reset

  set linetype 22 linewidth 1
  set palette model RGB defined ( 0 'black', 1 'blue' )
  set border 1
  set yrange [0:1]
  set ytics 0.5
  unset colorbox
  set bars 5.0
  set ytics nomirror scale 0.5
  set term svg size 1000,480 font "Times"
  set style data histogram
  set style histogram 
  set style fill solid 0.5 noborder
  set xtics rotate by -35 scale 0 noenhanced
  plot data using 6:xtic(2) title "adjacent utterances contain laughter", '' using 10 title "contains laughter", \
       data using 0:14:14:13:13:( $13 < $14 ? 0 : 1 ) with financebars notitle  palette lt 22
#+end_src

#+RESULTS:
[[file:ami.svg]]



#+RESULTS:


** SWDA: confusion matrix
#+begin_src gnuplot :file swda-cm.svg
  reset
  cd 'dat'
  set term svg size 500,1000 
  set datafile separator comma
  set xtics border in mirror rotate noenhanced scale 0.3
  set ytics in mirror noenhanced scale 0.3
  set grid front linetype 4 dt 3
  unset colorbox
  set palette rgbformula 34,35,36 negative
  set multiplot layout 2,1
  plot 'GOLDvNL.dat' matrix rowheaders columnheaders using 1:2:3 with image pixels notitle
  plot 'GOLDvL.dat' matrix rowheaders columnheaders using 1:2:3 with image pixels notitle
  set datafile separator
  unset multiplot
#+end_src

#+RESULTS:
[[file:swda-cm.svg]]
* Export all
#+BEGIN_SRC sh
rsvg-convert -f pdf -o "../../reports/ACL2020 Paper/img/SWDA-bertLvsNL.pdf" swda.svg
rsvg-convert -f pdf -o "../../reports/ACL2020 Paper/img/AMI-DA-bertLvsNL.pdf" ami.svg
rsvg-convert -f pdf -o "../../reports/ACL2020 Paper/img/box-swda.pdf" box-swda.svg
rsvg-convert -f pdf -o "../../reports/ACL2020 Paper/img/box-ami.pdf" box-ami.svg
rsvg-convert -f pdf -o "../../reports/ACL2020 Paper/img/swda-cm.pdf" swda-cm.svg
rsvg-convert -f pdf -o "../../reports/ACL2020 Paper/img/swda-brf.pdf" swda-brf.svg
rsvg-convert -f pdf -o "../../reports/ACL2020 Paper/img/ami-brf.pdf" ami-brf.svg
#+END_SRC

#+RESULTS:
* Bert-random-frozen
** SWDA
#+NAME: swda-brf
|                                           |                 bert |     bert_random-init |          bert_frozen |
|-------------------------------------------+----------------------+----------------------+----------------------|
| Statement-non-opinion                     |   0.8295086056373161 |   0.8028482421005786 |   0.6880825310896045 |
| Acknowledge (Backchannel)                 |   0.8632473517266144 |   0.8627162311372837 |    0.712667161961367 |
| Statement-opinion                         |   0.6018647093830589 |   0.5758584609531057 |   0.1388434666270254 |
| Segment (multi-utterance)                 |   0.8064611736810908 |   0.7496851825940956 |  0.41665089877010414 |
| Abandoned or Turn-Exit or Uninterpretable |   0.8061651867984587 |   0.7788669214155176 |   0.6094192634560907 |
| Agree/Accept                              |   0.5199017199017198 |   0.5363329583802025 |  0.03161764705882353 |
| Appreciation                              |   0.7321428571428572 |   0.6980576809888169 | 0.004301075268817203 |
| Yes-No-Question                           |   0.7913043478260869 |   0.7025641025641025 |  0.13786591123701605 |
| Non-verbal                                |    0.986280487804878 |    0.979467680608365 |                  0.0 |
| Yes answers                               |   0.7397769516728625 |   0.6618444846292947 | 0.014134275618374558 |
| Conventional-closing                      |   0.7775665399239543 |   0.7456647398843931 |                  0.0 |
| Wh-Question                               |   0.7855297157622739 |   0.6439135381114903 |                  0.0 |
| No answers                                |   0.8438661710037175 |   0.8141263940520446 |                  0.0 |
| Response Acknowledgement                  |   0.5228426395939086 |   0.5187032418952618 |                  0.0 |
| Hedge                                     |   0.7695749440715884 |   0.6614785992217898 |                  0.0 |
| Declarative Yes-No-Question               |  0.14723926380368096 |                  0.0 |                  0.0 |
| Backchannel in question form              |    0.722753346080306 |   0.6543778801843319 |                  0.0 |
| Quotation                                 |  0.19397993311036787 | 0.009523809523809523 |                  0.0 |
| Summarize/reformulate                     | 0.029126213592233007 |                  0.0 |                  0.0 |
| Other                                     |   0.6523297491039426 |   0.6066666666666667 |   0.5776566757493189 |
| Affirmative non-yes answers               |  0.35156250000000006 |   0.3211678832116788 |                  0.0 |
| Action-directive                          |   0.4429530201342282 |  0.06030150753768844 |                  0.0 |
| Collaborative Completion                  |  0.22018348623853212 |  0.16535433070866143 |                  0.0 |
| Repeat-phrase                             |  0.09248554913294799 |   0.1981981981981982 |                  0.0 |
| Open-Question                             |   0.6953405017921147 |   0.0784313725490196 |                  0.0 |
| Rhetorical-Questions                      |   0.3148148148148148 |                  0.0 |                  0.0 |
| Hold before answer/agreement              |  0.41071428571428564 |   0.2953020134228188 |                  0.0 |
| Reject                                    |  0.07142857142857142 |                  0.0 |                  0.0 |
| Negative non-no answers                   |   0.2631578947368421 |  0.05333333333333334 |                  0.0 |
| Signal-non-understanding                  |   0.6086956521739131 |   0.1818181818181818 |                  0.0 |
| Other answers                             |  0.41379310344827586 |  0.30952380952380953 |                  0.0 |
| Conventional-opening                      |   0.8412698412698412 |                  0.0 |                  0.0 |
| Or-Clause                                 |   0.6842105263157895 |  0.07272727272727272 |                  0.0 |
| Dispreferred answers                      |                  0.0 |                  0.0 |                  0.0 |
| 3rd-party-talk                            |                  0.0 |                  0.0 |                  0.0 |
| Offers, Options commits                   |                  0.0 |                  0.0 |                  0.0 |
| Maybe/Accept-part                         |                  0.0 |                  0.0 |                  0.0 |
| Downplayer                                |                  0.0 |                  0.0 |                  0.0 |
| Self-talk                                 |                  0.0 |                  0.0 |                  0.0 |
| Tag-Question                              |  0.11764705882352941 |                  0.0 |                  0.0 |
| Declarative Wh-Question                   |                  0.0 |                  0.0 |                  0.0 |
| Apology                                   |   0.6428571428571429 |                  0.0 |                  0.0 |
| Thanking                                  |  0.48275862068965514 |                  0.1 |                  0.0 |

#+begin_src gnuplot :var data=swda-brf :file swda-brf.svg
  reset

  set linetype 22 linewidth 1
  set border 1
  set yrange [0:1]
  set ytics nomirror scale 0.5
  set term svg size 1000,480 font "Times"
  set style data histogram
  set style histogram 
  set style fill solid 0.7 noborder
  set xtics rotate by -35 scale 0 noenhanced
  plot data using 2:xtic(1) title "BERT-FT" lt 2, '' using 3 title "BERT-RI" lt 7, '' using 4 title "BERT-FZ" lt -1
#+end_src

#+RESULTS:
[[file:swda-brf.svg]]

** AMI
#+NAME: ami-brf
|                              |                bert |     bert_random-init |          bert_frozen |
|------------------------------+---------------------+----------------------+----------------------|
| Backchannel                  |  0.7298548934856436 |   0.7184437184437185 |   0.5787120937537755 |
| Stall                        |  0.6569133677567413 |   0.6771614192903548 | 0.035173424523693216 |
| Fragment                     |  0.8526144676239501 |   0.8329117294634535 |   0.6413028218447284 |
| Inform                       |  0.7369537829056428 |   0.6804417122040072 |   0.6202160008388382 |
| Suggest                      |  0.5353972228545413 |  0.18386876281613126 |                  0.0 |
| Assess                       |  0.5577280174767886 |   0.4834800357188417 |   0.2908756889161053 |
| Elicit-Inform                |  0.5745856353591161 |   0.5347490347490348 |                  0.0 |
| Elicit-Offer-Or-Suggestion   | 0.38208955223880603 |                  0.0 |                  0.0 |
| Elicit-Assessment            |  0.4830699774266366 |  0.23097826086956522 |                  0.0 |
| Elicit-Comment-Understanding |  0.2702702702702703 |                  0.0 |                  0.0 |
| Offer                        |  0.5592233009708738 |                  0.0 |                  0.0 |
| Comment-About-Understanding  | 0.20349761526232116 | 0.015180265654648957 |                  0.0 |
| Be-Positive                  |  0.6142076502732241 |   0.5238095238095238 |                  0.0 |
| Be-Negative                  |                 0.0 |                  0.0 |                  0.0 |
| Other                        |  0.3484848484848485 |  0.13693693693693695 |                  0.0 |
| None                         |                 0.0 |                  0.0 |                  0.0 |



#+begin_src gnuplot :var data=ami-brf :file ami-brf.svg
reset

  set linetype 22 linewidth 1
  set border 1
  set yrange [0:1]
  set ytics nomirror scale 0.5
  set term svg size 1000,480 font "Times"
  set style data histogram
  set style histogram 
  set style fill solid 0.7 noborder
  set xtics rotate by -35 scale 0 noenhanced
  plot data using 2:xtic(1) title "BERT-FT" lt 2, '' using 3 title "BERT-RI" lt 7, '' using 4 title "BERT-FZ" lt -1
#+end_src

#+RESULTS:
[[file:ami-brf.svg]]

* from Haskell

#+NAME: swda-da-l
#+begin_src python  :session a
[['sd', 75396, 3450, 1092, 1801, 1619, 2411], ['b', 38384, 762, 50, 1839, 471, 1172], ['sv', 26526, 1253, 354, 652, 331, 818], ['+', 18695, 800, 2, 1058, 310, 556], ['%', 15681, 364, 300, 354, 211, 430], ['aa', 11159, 425, 88, 829, 302, 244], ['ba', 4797, 332, 40, 377, 65, 246], ['qy', 4760, 170, 51, 222, 17, 161], ['x', 3678, 2396, 10, 643, 1, 407], ['ny', 3040, 65, 7, 107, 65, 58], ['fc', 2585, 86, 24, 104, 25, 45], ['qw', 1990, 60, 21, 86, 7, 81], ['nn', 1378, 36, 10, 45, 48, 17], ['bk', 1309, 41, 1, 70, 13, 51], ['h', 1227, 50, 27, 36, 38, 27], ['fo_o_fw_"_by_bc', 1221, 40, 15, 30, 11, 31], ['qy^d', 1217, 63, 13, 54, 3, 40], ['bh', 1057, 30, 2, 77, 5, 41], ['^q', 986, 78, 18, 34, 35, 70], ['bf', 961, 77, 10, 51, 6, 29], ['na', 851, 49, 2, 42, 17, 39], ['ad', 752, 65, 15, 42, 16, 44], ['^2', 732, 45, 4, 28, 1, 32], ['b^m', 689, 30, 4, 30, 15, 17], ['qo', 657, 23, 10, 26, 3, 29], ['qh', 578, 52, 7, 22, 16, 29], ['^h', 556, 19, 6, 20, 17, 12], ['ar', 345, 23, 4, 20, 12, 8], ['ng', 303, 16, 2, 6, 5, 13], ['br', 299, 4, 1, 22, 0, 7], ['no', 286, 14, 2, 11, 2, 11], ['fp', 225, 9, 0, 4, 6, 3], ['qrr', 210, 1, 3, 0, 1, 4], ['arp_nd', 207, 19, 2, 9, 6, 7], ['t3', 117, 1, 0, 4, 6, 4], ['oo_co_cc', 110, 7, 2, 8, 4, 11], ['aap_am', 105, 6, 0, 10, 3, 4], ['bd', 104, 17, 3, 16, 3, 6], ['t1', 103, 3, 1, 2, 9, 2], ['^g', 93, 6, 1, 1, 2, 8], ['qw^d', 80, 4, 0, 5, 2, 4], ['fa', 79, 10, 3, 4, 2, 8], ['ft', 78, 9, 1, 4, 2, 2]]
#+end_src

#+NAME: swda-da-lt
| Name                                      | total_utt | prev_oth | prev_same | same | next_same | next_oth |
|-------------------------------------------+-----------+----------+-----------+------+-----------+----------|
| Statement-non-opinion                     |     75396 |     1801 |      1092 | 3450 |      1619 |     2411 |
| Acknowledge (Backchannel)                 |     38384 |     1839 |        50 |  762 |       471 |     1172 |
| Statement-opinion                         |     26526 |      652 |       354 | 1253 |       331 |      818 |
| Segment (multi-utterance)                 |     18695 |     1058 |         2 |  800 |       310 |      556 |
| Abandoned or Turn-Exit or Uninterpretable |     15681 |      354 |       300 |  364 |       211 |      430 |
| Agree/Accept                              |     11159 |      829 |        88 |  425 |       302 |      244 |
| Appreciation                              |      4797 |      377 |        40 |  332 |        65 |      246 |
| Yes-No-Question                           |      4760 |      222 |        51 |  170 |        17 |      161 |
| Yes answers                               |      3040 |      107 |         7 |   65 |        65 |       58 |
| Conventional-closing                      |      2585 |      104 |        24 |   86 |        25 |       45 |
| Wh-Question                               |      1990 |       86 |        21 |   60 |         7 |       81 |
| No answers                                |      1378 |       45 |        10 |   36 |        48 |       17 |
| Response Acknowledgement                  |      1309 |       70 |         1 |   41 |        13 |       51 |
| Hedge                                     |      1227 |       36 |        27 |   50 |        38 |       27 |
| Declarative Yes-No-Question               |      1221 |       30 |        15 |   40 |        11 |       31 |
| Backchannel in question form              |      1217 |       54 |        13 |   63 |         3 |       40 |
| Quotation                                 |      1057 |       77 |         2 |   30 |         5 |       41 |
| Summarize/reformulate                     |       986 |       34 |        18 |   78 |        35 |       70 |
| Other                                     |       961 |       51 |        10 |   77 |         6 |       29 |
| Affirmative non-yes answers               |       851 |       42 |         2 |   49 |        17 |       39 |
| Action-directive                          |       752 |       42 |        15 |   65 |        16 |       44 |
| Collaborative Completion                  |       732 |       28 |         4 |   45 |         1 |       32 |
| Repeat-phrase                             |       689 |       30 |         4 |   30 |        15 |       17 |
| Open-Question                             |       657 |       26 |        10 |   23 |         3 |       29 |
| Rhetorical-Questions                      |       578 |       22 |         7 |   52 |        16 |       29 |
| Hold before answer/agreement              |       556 |       20 |         6 |   19 |        17 |       12 |
| Reject                                    |       345 |       20 |         4 |   23 |        12 |        8 |
| Negative non-no answers                   |       303 |        6 |         2 |   16 |         5 |       13 |
| Signal-non-understanding                  |       299 |       22 |         1 |    4 |         0 |        7 |
| Other answers                             |       286 |       11 |         2 |   14 |         2 |       11 |
| Conventional-opening                      |       225 |        4 |         0 |    9 |         6 |        3 |
| Or-Clause                                 |       210 |        0 |         3 |    1 |         1 |        4 |
| Dispreferred answers                      |       207 |        9 |         2 |   19 |         6 |        7 |
| 3rd-party-talk                            |       117 |        4 |         0 |    1 |         6 |        4 |
| Offers, Options Commits                   |       110 |        8 |         2 |    7 |         4 |       11 |
| Maybe/Accept-part                         |       105 |       10 |         0 |    6 |         3 |        4 |
| Downplayer                                |       104 |       16 |         3 |   17 |         3 |        6 |
| Self-talk                                 |       103 |        2 |         1 |    3 |         9 |        2 |
| Tag-Question                              |        93 |        1 |         1 |    6 |         2 |        8 |
| Declarative Wh-Question                   |        80 |        5 |         0 |    4 |         2 |        4 |
| Apology                                   |        79 |        4 |         3 |   10 |         2 |        8 |
| Thanking                                  |        78 |        4 |         1 |    9 |         2 |        2 |

#+begin_src gnuplot :var data=swda-da-lt :file swda-da-l.svg
        reset

        set linetype 22 linewidth 1
        set palette model RGB defined ( 0 'black', 1 'blue' )
        set border 1
        unset colorbox
        set bars 5.0
        set ytics nomirror scale 0.5
        set term svg size 1500,720 # font "Times"
        set style data histogram
        set style fill transparent solid 1 noborder
        set xtics rotate by -35 scale 0 noenhanced
        plot data using ($3+$4+$5+$6+$7)/$2 with boxes lt 22 fs empty  title 'total', \
             data using ($3/$2):xtic(1) lt 2  title 'before:other', \
               '' using ($4/$2) lt 9 title 'before:self', \
               '' using ($5/$2) lt -1  title 'same:self', \
               '' using ($6/$2) lt 7 title 'after:self', \
               '' using ($7/$2) lt 3 title 'after:other'
#+end_src

#+RESULTS:
[[file:swda-da-l.svg]]
#+begin_src gnuplot :file test.svg
set terminal svg size 1500,720
test
#+end_src

#+RESULTS:
[[file:test.svg]]
